!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngc-progressbar",["exports","@angular/core","rxjs","rxjs/operators","@angular/common"],t):t((e=e||self)["ngc-progressbar"]={},e.ng.core,e.rxjs,e.rxjs.operators,e.ng.common)}(this,(function(e,t,s,r,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function o(e,t,s,r){var i,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,r);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(l=(o<3?i(l):o>3?i(t,s,l):i(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l}var l=function(){function e(){}return e.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=o([t.Injectable({providedIn:"root"})],e)}(),n=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.canvas=document.querySelector(".progressbar--circle#"+this.progressbar.progressBarId),this.drawCircle(this.canvas,this.progressbar.parentElemnent.width)},e.prototype.drawCircle=function(e,t){var s=e.getContext("2d");e.width=t;var r=2*this.progressbar.progressBarRadius+2*this.progressbar.baseStyles.lineWidth>e.width?e.width/2-this.progressbar.baseStyles.lineWidth:this.progressbar.progressBarRadius;e.height=2*r+this.progressbar.baseStyles.lineWidth,s.beginPath(),s.arc(e.width/2,e.height/2,r,0,2*Math.PI,!0),s.strokeStyle=this.progressbar.baseStyles.color,s.lineWidth=this.progressbar.baseStyles.lineWidth,s.lineCap=this.progressbar.baseStyles.style,s.stroke();var i=this.progressbar.progressBarValue,o=.02*i+1.5;s.beginPath(),s.arc(e.width/2,e.height/2,r,1.5*Math.PI,o*Math.PI),s.strokeStyle=this.progressbar.barStyles.color,s.lineWidth=this.progressbar.barStyles.lineWidth,s.lineCap=this.progressbar.barStyles.style,s.stroke(),s.font=this.progressbar.textStyles.fontSize+"px "+this.progressbar.textStyles.fontFamily,s.textAlign="center",s.textBaseline="middle",s.fillStyle=this.progressbar.textStyles.color,s.fillText(i+"%",e.width/2,e.height/2+5),console.log(this.progressbar.textStyles.color)},e.prototype.drawCircleOnResize=function(e){this.drawCircle(this.canvas,e)},o([t.Input()],e.prototype,"progressbar",void 0),e=o([t.Component({selector:"ngc-circle-progressbar",template:'<canvas\r\n  class="progressbar--circle"\r\n  id="{{ progressbar.progressBarId }}"\r\n></canvas>\r\n',styles:["canvas{max-width:100%;vertical-align:middle}"]})],e)}(),a=function(){function e(e){var t=this;this.elRef=e,this.defaultBaseStyle={color:"#f1f1f1",lineWidth:100,style:"butt"},this.defaultBarStyle={color:"#333",lineWidth:100,style:"butt"},this.defaultTextStyle={fontSize:20,fontFamily:"Arial",color:"red",position:"center",html:"<span></span>"},this.resizeSubject=new s.Subject,this.resizeSubject.pipe(r.debounceTime(100)).subscribe((function(e){t.circleProgressbarComponent.drawCircleOnResize(e)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(){var e,t,s,r,i,o,l,n,a,d,p,h,u,c,y,v,g,b,f,S,m,x,w,I,B,W,C,j,R,P,z,E,O,T,F,M,V,q,k,A,N,L,H,_,D,G;this.capturedInputs={parentElemnent:{width:this.elRef.nativeElement.parentElement.clientWidth,height:this.elRef.nativeElement.parentElement.clientHeight},progressBarType:this.type,progressBarValue:this.value,progressBarId:this.id,progressBarRadius:(null===(e=this.styles)||void 0===e?void 0:e.progressBarRadius)?null===(t=this.styles)||void 0===t?void 0:t.progressBarRadius:"100",barStyles:{color:(null===(r=null===(s=this.styles)||void 0===s?void 0:s.barStyles)||void 0===r?void 0:r.color)?null===(o=null===(i=this.styles)||void 0===i?void 0:i.barStyles)||void 0===o?void 0:o.color:this.defaultBarStyle.color,style:(null===(n=null===(l=this.styles)||void 0===l?void 0:l.barStyles)||void 0===n?void 0:n.style)?null===(d=null===(a=this.styles)||void 0===a?void 0:a.barStyles)||void 0===d?void 0:d.style:this.defaultBarStyle.style,lineWidth:(null===(h=null===(p=this.styles)||void 0===p?void 0:p.barStyles)||void 0===h?void 0:h.lineWidth)?null===(c=null===(u=this.styles)||void 0===u?void 0:u.barStyles)||void 0===c?void 0:c.lineWidth:this.defaultBarStyle.lineWidth},baseStyles:{color:(null===(v=null===(y=this.styles)||void 0===y?void 0:y.baseStyles)||void 0===v?void 0:v.color)?null===(b=null===(g=this.styles)||void 0===g?void 0:g.baseStyles)||void 0===b?void 0:b.color:this.defaultBaseStyle.color,style:(null===(S=null===(f=this.styles)||void 0===f?void 0:f.baseStyles)||void 0===S?void 0:S.style)?null===(x=null===(m=this.styles)||void 0===m?void 0:m.baseStyles)||void 0===x?void 0:x.style:this.defaultBaseStyle.style,lineWidth:(null===(I=null===(w=this.styles)||void 0===w?void 0:w.baseStyles)||void 0===I?void 0:I.lineWidth)?null===(W=null===(B=this.styles)||void 0===B?void 0:B.baseStyles)||void 0===W?void 0:W.lineWidth:this.defaultBaseStyle.lineWidth},textStyles:{color:(null===(j=null===(C=this.styles)||void 0===C?void 0:C.textStyles)||void 0===j?void 0:j.color)?null===(P=null===(R=this.styles)||void 0===R?void 0:R.textStyles)||void 0===P?void 0:P.color:this.defaultTextStyle.color,fontSize:(null===(E=null===(z=this.styles)||void 0===z?void 0:z.textStyles)||void 0===E?void 0:E.fontSize)?null===(T=null===(O=this.styles)||void 0===O?void 0:O.textStyles)||void 0===T?void 0:T.fontSize:this.defaultTextStyle.fontSize,fontFamily:(null===(M=null===(F=this.styles)||void 0===F?void 0:F.textStyles)||void 0===M?void 0:M.fontFamily)?null===(q=null===(V=this.styles)||void 0===V?void 0:V.textStyles)||void 0===q?void 0:q.fontFamily:this.defaultTextStyle.fontFamily,position:(null===(A=null===(k=this.styles)||void 0===k?void 0:k.textStyles)||void 0===A?void 0:A.position)?null===(L=null===(N=this.styles)||void 0===N?void 0:N.textStyles)||void 0===L?void 0:L.position:this.defaultTextStyle.position,html:(null===(_=null===(H=this.styles)||void 0===H?void 0:H.textStyles)||void 0===_?void 0:_.html)?null===(G=null===(D=this.styles)||void 0===D?void 0:D.textStyles)||void 0===G?void 0:G.html:this.defaultTextStyle.html}}},e.prototype.onResize=function(){this.capturedInputs.parentElemnent.width=this.elRef.nativeElement.parentElement.clientWidth,this.resizeSubject.next(this.capturedInputs.parentElemnent.width)},e.ctorParameters=function(){return[{type:t.ElementRef}]},o([t.Input()],e.prototype,"type",void 0),o([t.Input()],e.prototype,"value",void 0),o([t.Input()],e.prototype,"id",void 0),o([t.Input()],e.prototype,"styles",void 0),o([t.ViewChild(n)],e.prototype,"circleProgressbarComponent",void 0),o([t.HostListener("window:resize",[])],e.prototype,"onResize",null),e=o([t.Component({selector:"ngc-progressbar",template:'\n    <ngc-circle-progressbar\n      [progressbar]="capturedInputs"\n      *ngIf="type.toLowerCase() === \'circle\'"\n    ></ngc-circle-progressbar>\n    <ngc-line-progressbar\n      [progressbar]="capturedInputs"\n      *ngIf="type.toLowerCase() === \'bar\'"\n    ></ngc-line-progressbar>\n  '})],e)}(),d=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.canvas=document.querySelector(".progressbar--bar#"+this.progressbar.progressBarId),this.drawBar(this.canvas,this.progressbar.parentElemnent.width)},e.prototype.drawBar=function(e,t){console.log(this.progressbar);var s=e.getContext("2d");e.width=t,e.height=this.progressbar.baseStyles.lineWidth,s.beginPath(),s.rect(0,0,e.width,e.height),s.fillStyle=this.progressbar.baseStyles.color,s.fill();var r=this.progressbar.progressBarValue,i=e.width/100*this.progressbar.progressBarValue;s.beginPath(),s.rect(0,(this.progressbar.baseStyles.lineWidth-this.progressbar.barStyles.lineWidth)/2,i,this.progressbar.barStyles.lineWidth),s.fillStyle=this.progressbar.barStyles.color,s.fill(),s.font=this.progressbar.textStyles.fontSize+"px "+this.progressbar.textStyles.fontFamily,s.textAlign="center",s.textBaseline="middle",s.fillStyle=this.progressbar.textStyles.color,s.fillText(r+"%",e.width/2,e.height/2+5)},o([t.Input()],e.prototype,"progressbar",void 0),e=o([t.Component({selector:"ngc-line-progressbar",template:'<canvas class="progressbar--bar" id="{{ progressbar.progressBarId }}"></canvas>\r\n',styles:["canvas{max-width:100%;vertical-align:middle}"]})],e)}(),p=function(){function e(){}return e=o([t.NgModule({declarations:[a,n,d],imports:[i.CommonModule],exports:[a]})],e)}();e.NgcProgressbarComponent=a,e.NgcProgressbarModule=p,e.NgcProgressbarService=l,e.ɵa=n,e.ɵb=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngc-progressbar.umd.min.js.map